---
title: Pay with a pre-decrypted
account: ABC
---

We also support the ability to make payments using Apple Pay tokens that you have decrypted. To make use of this feature, use the `network_token` source type and specify the `token_type` as `applepay`. This source type allows you to provide the details about the token, as well as the cryptogram and ECI value obtained from the Apple Pay token.

### The POST request

Use the details below to set up your request.

#### Endpoints

<tabs>
<tab title="Live" active>
<LineCodeWrapper type="post">

`https://api.checkout.com/payments`

</LineCodeWrapper>
</tab>
<tab title="SandBox">
<LineCodeWrapper type="post">

`https://api.sandbox.checkout.com/payments`

</LineCodeWrapper>
</tab>
</tabs>

#### Header and path parameters

<Table>
<TableHead headers={['Header', 'Value']} />
<TableBody>
<TableRow>
<TableCell>

`Authorization`

<StatusTag type="required" />
</TableCell>
<TableCell>

`secret key`

<InfoBox>

Use the valid secret key of your Checkout.com account. You can find this in the [Card Payouts page](https://docs.checkout.com/preview/drafts/abc/card-payouts).

</InfoBox>
</TableCell>
</TableRow>
<TableRow>
<TableCell>

`Content-Type`

<StatusTag type="required" />
</TableCell>
<TableCell>

`application/json`

</TableCell>
</TableRow>

</TableBody>
</Table>

#### Body parameters

<Table>
<TableHead headers={['Field name', 'Description']} />
<TableBody>
<TableRow>
<TableCell>

`source`

<StatusTag type="required" />
<TypeTag type="object" />
</TableCell>
<TableCell>

Details about the payment source.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`source.type`

<StatusTag type="required" />
<TypeTag type="string" />
</TableCell>
<TableCell>

The type of payment source. Set this to `network_token`.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`source.token`

<StatusTag type="required" />
<TypeTag type="string" />
</TableCell>
<TableCell>

The network token PAN.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`source.token_type`

<StatusTag type="required" />
<TypeTag type="string" />
</TableCell>
<TableCell>

The type of token. Set this to `applepay`.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`source.expiry_month`

<StatusTag type="required" />
<TypeTag type="string" />
</TableCell>
<TableCell>

The two-digit expiry month of the token.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`source.expiry_year`

<StatusTag type="required" />
<TypeTag type="string" />
</TableCell>
<TableCell>

The four-digit expiry year of the token.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`source.eci`

<StatusTag type="required" />
<TypeTag type="string" />
</TableCell>
<TableCell>

**For Visa only:**

The Electronic Commerce Indicator security level associated with the token. Required unless the `previous_payment_id` is specified.

For more information, see [stored card details](/display/DOCS/Requirements+for+stored+payment+details).

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`source.cryptogram`

<StatusTag type="required" />
<TypeTag type="string" />
</TableCell>
<TableCell>

**For Visa only:**

Cryptographic identifier used by card schemes to validate the token verification result. Required unless the previous\_payment\_id is specified.

For more information, see [stored card details](/display/DOCS/Requirements+for+stored+payment+details).

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`source.amount`

<StatusTag type="required" />
<TypeTag type="integer" />
</TableCell>
<TableCell>

The payment amount.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`currency`

<StatusTag type="required" />
<TypeTag type="string" />
</TableCell>
<TableCell>

The currency in which the payment is being made (three-letter ISO 4217 code).

</TableCell>
</TableRow>
</TableBody>
</Table>

#### Request example

```json
    {
      "source": {
        "type": "network_token",
        "token": "4242424242424242",
        "token_type": "applepay",
        "expiry_month": "10",
        "expiry_year": "2025",
        "eci": "06",
        "cryptogram": "AgAAAAAAAIR8CQrXcIhbQAAAAAA",
      },
      "amount": 1000,
      "currency": "USD",
    }
```

### The POST response

If the `approved` field is `true`, your authorization was successful. If your authorization was not successful, it's possible the payment used an invalid/expired card, or a valid card with an insufficient available balance.

A successful response will include a `payment_account_reference` value, which is a unique reference to the underlying card for network tokens. If the card scheme provided us with an `eci` value, it will be included in the response. The value indicates the security level that the card scheme decided to request the payment with.
